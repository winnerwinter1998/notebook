<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.1.7"><title>MySQL - Notes</title><link rel=stylesheet href=../../assets/stylesheets/main.4c7052ca.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#mysql class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=../.. title=Notes class="md-header-nav__button md-logo" aria-label=Notes> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Notes </span> <span class="md-header-nav__topic md-ellipsis"> MySQL </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class="md-tabs__link md-tabs__link--active"> Home </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Notes class="md-nav__button md-logo" aria-label=Notes> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Notes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Home class=md-nav__link> Home </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#_1 class=md-nav__link> æ–‡ä»¶ç»“æ„ </a> </li> <li class=md-nav__item> <a href=#windowscli class=md-nav__link> Windowsç¯å¢ƒä¸‹çš„CLI </a> </li> <li class=md-nav__item> <a href=#_2 class=md-nav__link> ç™»å½• </a> </li> <li class=md-nav__item> <a href=#_3 class=md-nav__link> é€€å‡º </a> </li> <li class=md-nav__item> <a href=#_4 class=md-nav__link> æ•°æ®åº“çš„å¤‡ä»½å’Œè¿˜åŸ </a> <nav class=md-nav aria-label=æ•°æ®åº“çš„å¤‡ä»½å’Œè¿˜åŸ> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_5 class=md-nav__link> å¤‡ä»½ </a> </li> <li class=md-nav__item> <a href=#_6 class=md-nav__link> è¿˜åŸ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sqlyog class=md-nav__link> å®¢æˆ·ç«¯å›¾å½¢åŒ–å·¥å…·SQLYog </a> </li> <li class=md-nav__item> <a href=#_7 class=md-nav__link> æ•°æ®ç±»å‹æ‘˜è¦ </a> </li> <li class=md-nav__item> <a href=#ddl class=md-nav__link> DDLæ“ä½œæ•°æ®åº“å’Œè¡¨ </a> <nav class=md-nav aria-label=DDLæ“ä½œæ•°æ®åº“å’Œè¡¨> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_8 class=md-nav__link> åˆ›å»ºæ•°æ®åº“ </a> </li> <li class=md-nav__item> <a href=#_9 class=md-nav__link> æŸ¥è¯¢æ•°æ®åº“ </a> </li> <li class=md-nav__item> <a href=#_10 class=md-nav__link> æŸ¥è¯¢æŸä¸ªæ•°æ®åº“çš„åˆ›å»ºè¯­å¥ </a> </li> <li class=md-nav__item> <a href=#_11 class=md-nav__link> ä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦é›† </a> </li> <li class=md-nav__item> <a href=#_12 class=md-nav__link> åˆ é™¤æ•°æ®åº“ </a> </li> <li class=md-nav__item> <a href=#_13 class=md-nav__link> æŸ¥çœ‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“åç§° </a> </li> <li class=md-nav__item> <a href=#_14 class=md-nav__link> ä½¿ç”¨æ•°æ®åº“ </a> </li> <li class=md-nav__item> <a href=#_15 class=md-nav__link> åˆ›å»ºè¡¨ </a> </li> <li class=md-nav__item> <a href=#_16 class=md-nav__link> å¤åˆ¶è¡¨ </a> </li> <li class=md-nav__item> <a href=#_17 class=md-nav__link> æŸ¥è¯¢æŸä¸ªæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„åç§° </a> </li> <li class=md-nav__item> <a href=#_18 class=md-nav__link> æŸ¥è¯¢è¡¨ç»“æ„ </a> </li> <li class=md-nav__item> <a href=#_19 class=md-nav__link> ä¿®æ”¹è¡¨å </a> </li> <li class=md-nav__item> <a href=#_20 class=md-nav__link> ä¿®æ”¹è¡¨çš„å­—ç¬¦é›† </a> </li> <li class=md-nav__item> <a href=#_21 class=md-nav__link> æ·»åŠ ä¸€åˆ— </a> </li> <li class=md-nav__item> <a href=#_22 class=md-nav__link> ä¿®æ”¹åˆ—åç§°æˆ–ç±»å‹ </a> </li> <li class=md-nav__item> <a href=#_23 class=md-nav__link> åˆ é™¤åˆ— </a> </li> <li class=md-nav__item> <a href=#_24 class=md-nav__link> åˆ é™¤è¡¨ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dml class=md-nav__link> DMLå¢åˆ æ”¹è¡¨ä¸­æ•°æ® </a> <nav class=md-nav aria-label=DMLå¢åˆ æ”¹è¡¨ä¸­æ•°æ®> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_25 class=md-nav__link> æ·»åŠ æ•°æ® </a> </li> <li class=md-nav__item> <a href=#_26 class=md-nav__link> ä¿®æ”¹æ•°æ® </a> </li> <li class=md-nav__item> <a href=#_27 class=md-nav__link> åˆ é™¤æ•°æ® </a> </li> <li class=md-nav__item> <a href=#_28 class=md-nav__link> åˆ é™¤è¡¨ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ç©ºè¡¨ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dql class=md-nav__link> DQLæŸ¥è¯¢è¡¨ä¸­æ•°æ® </a> <nav class=md-nav aria-label=DQLæŸ¥è¯¢è¡¨ä¸­æ•°æ®> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_29 class=md-nav__link> è¯­æ³•ä¸€è§ˆ </a> </li> <li class=md-nav__item> <a href=#_30 class=md-nav__link> åŸºç¡€æŸ¥è¯¢ </a> </li> <li class=md-nav__item> <a href=#_31 class=md-nav__link> æ¡ä»¶æŸ¥è¯¢ </a> </li> <li class=md-nav__item> <a href=#_32 class=md-nav__link> æ’åºæŸ¥è¯¢ </a> </li> <li class=md-nav__item> <a href=#_33 class=md-nav__link> èšåˆå‡½æ•° </a> </li> <li class=md-nav__item> <a href=#_34 class=md-nav__link> åˆ†ç»„æŸ¥è¯¢ </a> <nav class=md-nav aria-label=åˆ†ç»„æŸ¥è¯¢> <ul class=md-nav__list> <li class=md-nav__item> <a href=#where-having class=md-nav__link> WHERE å’Œ HAVING æœ‰ä½•åŒºåˆ«ï¼Ÿ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_35 class=md-nav__link> åˆ†é¡µæŸ¥è¯¢ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dcl class=md-nav__link> DCLç®¡ç†ç”¨æˆ·å’Œæˆæƒ </a> <nav class=md-nav aria-label=DCLç®¡ç†ç”¨æˆ·å’Œæˆæƒ> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_36 class=md-nav__link> æ·»åŠ ç”¨æˆ· </a> </li> <li class=md-nav__item> <a href=#_37 class=md-nav__link> åˆ é™¤ç”¨æˆ· </a> </li> <li class=md-nav__item> <a href=#_38 class=md-nav__link> ä¿®æ”¹ç”¨æˆ·å¯†ç  </a> </li> <li class=md-nav__item> <a href=#_39 class=md-nav__link> æŸ¥è¯¢ç”¨æˆ· </a> </li> <li class=md-nav__item> <a href=#root class=md-nav__link> å¿˜è®° root å¯†ç  </a> </li> <li class=md-nav__item> <a href=#_40 class=md-nav__link> æŸ¥è¯¢ç”¨æˆ·æƒé™ </a> </li> <li class=md-nav__item> <a href=#_41 class=md-nav__link> æˆäºˆç”¨æˆ·æƒé™ </a> </li> <li class=md-nav__item> <a href=#_42 class=md-nav__link> æ’¤é”€ç”¨æˆ·æƒé™ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_43 class=md-nav__link> çº¦æŸ </a> <nav class=md-nav aria-label=çº¦æŸ> <ul class=md-nav__list> <li class=md-nav__item> <a href=#primary-key class=md-nav__link> ä¸»é”®çº¦æŸPRIMARY KEY </a> <nav class=md-nav aria-label="ä¸»é”®çº¦æŸPRIMARY KEY"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#auto_increment class=md-nav__link> è‡ªåŠ¨å¢é•¿AUTO_INCREMENT </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#not-null class=md-nav__link> éç©ºçº¦æŸNOT NULL </a> </li> <li class=md-nav__item> <a href=#unique class=md-nav__link> å”¯ä¸€çº¦æŸUNIQUE </a> </li> <li class=md-nav__item> <a href=#foreign-key class=md-nav__link> å¤–é”®çº¦æŸFOREIGN KEY </a> <nav class=md-nav aria-label="å¤–é”®çº¦æŸFOREIGN KEY"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_44 class=md-nav__link> çº§è”æ“ä½œ(è°¨æ…ä½¿ç”¨) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_45 class=md-nav__link> å¤šè¡¨ä¹‹é—´çš„å…³ç³» </a> <nav class=md-nav aria-label=å¤šè¡¨ä¹‹é—´çš„å…³ç³»> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_46 class=md-nav__link> ä¸€å¯¹ä¸€ </a> </li> <li class=md-nav__item> <a href=#_47 class=md-nav__link> ä¸€å¯¹å¤š </a> </li> <li class=md-nav__item> <a href=#_48 class=md-nav__link> å¤šå¯¹å¤š </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#3nf class=md-nav__link> 3NFèŒƒå¼è®¾è®¡æ€è·¯ </a> </li> <li class=md-nav__item> <a href=#_49 class=md-nav__link> å¤šè¡¨æŸ¥è¯¢ </a> <nav class=md-nav aria-label=å¤šè¡¨æŸ¥è¯¢> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_50 class=md-nav__link> ç¬›å¡å°”ç§¯ </a> </li> <li class=md-nav__item> <a href=#_51 class=md-nav__link> å†…è¿æ¥æŸ¥è¯¢ </a> <nav class=md-nav aria-label=å†…è¿æ¥æŸ¥è¯¢> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_52 class=md-nav__link> éšå¼å†…è¿æ¥ </a> </li> <li class=md-nav__item> <a href=#_53 class=md-nav__link> æ˜¾å¼å†…è¿æ¥ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_54 class=md-nav__link> å¤–è¿æ¥æŸ¥è¯¢ </a> <nav class=md-nav aria-label=å¤–è¿æ¥æŸ¥è¯¢> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_55 class=md-nav__link> å·¦å¤–è¿æ¥ </a> </li> <li class=md-nav__item> <a href=#_56 class=md-nav__link> å³å¤–è¿æ¥ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_57 class=md-nav__link> å­æŸ¥è¯¢ </a> <nav class=md-nav aria-label=å­æŸ¥è¯¢> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_58 class=md-nav__link> ç»“æœä¸ºå•è¡Œå•åˆ—çš„å­æŸ¥è¯¢ </a> </li> <li class=md-nav__item> <a href=#_59 class=md-nav__link> ç»“æœä¸ºå¤šè¡Œå•åˆ—çš„å­æŸ¥è¯¢ </a> </li> <li class=md-nav__item> <a href=#_60 class=md-nav__link> ç»“æœä¸ºå¤šè¡Œå¤šåˆ—çš„å­æŸ¥è¯¢ </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_61 class=md-nav__link> äº‹åŠ¡ </a> <nav class=md-nav aria-label=äº‹åŠ¡> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_62 class=md-nav__link> äº‹åŠ¡çš„åŸºæœ¬ä»‹ç» </a> <nav class=md-nav aria-label=äº‹åŠ¡çš„åŸºæœ¬ä»‹ç»> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_63 class=md-nav__link> äº‹åŠ¡çš„æ¦‚å¿µ </a> </li> <li class=md-nav__item> <a href=#_64 class=md-nav__link> äº‹åŠ¡çš„åŸºæœ¬æ“ä½œ </a> </li> <li class=md-nav__item> <a href=#mysql_1 class=md-nav__link> MySQL äº‹åŠ¡çš„é»˜è®¤æäº¤æ–¹å¼ </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_65 class=md-nav__link> äº‹åŠ¡çš„å››å¤§ç‰¹å¾ </a> </li> <li class=md-nav__item> <a href=#_66 class=md-nav__link> äº‹åŠ¡çš„éš”ç¦»çº§åˆ« </a> <nav class=md-nav aria-label=äº‹åŠ¡çš„éš”ç¦»çº§åˆ«> <ul class=md-nav__list> <li class=md-nav__item> <a href=#_67 class=md-nav__link> è¦è§£å†³çš„é—®é¢˜ </a> </li> <li class=md-nav__item> <a href=#_68 class=md-nav__link> éš”ç¦»çº§åˆ« </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#_69 class=md-nav__link> äº‹åŠ¡çš„ç›¸å…³æ“ä½œ </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=mysql>MySQL<a class=headerlink href=#mysql title="Permanent link">&para;</a></h1> <h2 id=_1>æ–‡ä»¶ç»“æ„<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <p>é…ç½®æ–‡ä»¶ä¸ºmy.ini</p> <p>æ•°æ®åº“ï¼šæ–‡ä»¶å¤¹</p> <p>è¡¨ï¼šæ–‡ä»¶</p> <p>æ•°æ®ï¼šæ•°æ®</p> <h2 id=windowscli>Windowsç¯å¢ƒä¸‹çš„CLI<a class=headerlink href=#windowscli title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>services.msc # æ‰“å¼€æœåŠ¡çª—å£
net start mysql #å¯åŠ¨
net stop mysql # å…³é—­
</code></pre></div> <h2 id=_2>ç™»å½•<a class=headerlink href=#_2 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>mysql -uroot -p&lt;å¯†ç &gt;
mysql -hip -uroot -p&lt;è¿æ¥ç›®æ ‡çš„å¯†ç &gt;
mysql --host<span class=o>=</span>ip:host --user<span class=o>=</span>root --password<span class=o>=</span>&lt;è¿æ¥ç›®æ ‡çš„å¯†ç &gt;
</code></pre></div> <h2 id=_3>é€€å‡º<a class=headerlink href=#_3 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code><span class=nb>exit</span>
quit
</code></pre></div> <h2 id=_4>æ•°æ®åº“çš„å¤‡ä»½å’Œè¿˜åŸ<a class=headerlink href=#_4 title="Permanent link">&para;</a></h2> <h3 id=_5>å¤‡ä»½<a class=headerlink href=#_5 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>mysqldump</span> <span class=o>-</span><span class=n>u</span><span class=o>&lt;</span><span class=err>ç”¨æˆ·å</span><span class=o>&gt;</span> <span class=o>-</span><span class=n>p</span><span class=o>&lt;</span><span class=err>å¯†ç </span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span> <span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>è¦ä¿å­˜çš„è·¯å¾„</span><span class=o>&gt;</span>
</code></pre></div> <h3 id=_6>è¿˜åŸ<a class=headerlink href=#_6 title="Permanent link">&para;</a></h3> <ul> <li> <p>å…ˆç™»å½•</p> </li> <li> <p>åˆ›å»ºæ•°æ®åº“</p> </li> </ul> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <ul> <li>ä½¿ç”¨æ•°æ®åº“</li> </ul> <div class=highlight><pre><span></span><code><span class=k>use</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <ul> <li>æ‰§è¡Œæ–‡ä»¶</li> </ul> <div class=highlight><pre><span></span><code><span class=n>source</span> <span class=o>&lt;</span><span class=err>æ–‡ä»¶è·¯å¾„</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h2 id=sqlyog>å®¢æˆ·ç«¯å›¾å½¢åŒ–å·¥å…·SQLYog<a class=headerlink href=#sqlyog title="Permanent link">&para;</a></h2> <p>åç§°ï¼šcr173</p> <p>åºåˆ—å·ï¼š8d8120df-a5c3-4989-8f47-5afc79c56e7c</p> <p>æˆ–è€…</p> <p>åç§°ï¼šcr173</p> <p>åºåˆ—å·ï¼š59adfdfe-bcb0-4762-8267-d7fccf16beda</p> <p>æˆ–è€…</p> <p>åç§°ï¼šcr173</p> <p>åºåˆ—å·ï¼šec38d297-0543-4679-b098-4baadf91f983</p> <h2 id=_7>æ•°æ®ç±»å‹æ‘˜è¦<a class=headerlink href=#_7 title="Permanent link">&para;</a></h2> <ul> <li> <p>intï¼šæ•´å‹</p> </li> <li> <p>doubleï¼šæµ®ç‚¹æ•°</p> </li> <li> <p>dateï¼šæ—¥æœŸï¼ŒåªåŒ…å«å¹´æœˆæ—¥ï¼Œyyyy-MM-dd</p> </li> <li> <p>datetimeï¼šæ—¥æœŸï¼ŒåŒ…å«å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼Œyyyy-MM-dd HH<img alt=ğŸ‡²ğŸ‡² class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/svg/1f1f2-1f1f2.svg title=:mm:>ss</p> </li> <li> <p>timestampï¼šæ—¶é—´æˆ³ç±»å‹ï¼ŒåŒ…å«å¹´æœˆæ—¥æ—¶åˆ†ç§’ï¼Œyy-MM-ddï¼Œè‹¥åˆ›å»ºæ—¶ä¸èµ‹å€¼æˆ–èµ‹å€¼ä¸ºnullï¼Œè‡ªåŠ¨èµ‹å€¼ä¸ºå½“å‰ç³»ç»Ÿæ—¶é—´</p> </li> <li>varcharï¼šå­—ç¬¦ä¸²ç±»å‹ï¼Œä¾‹å¦‚ varchar(20)</li> </ul> <h2 id=ddl>DDLæ“ä½œæ•°æ®åº“å’Œè¡¨<a class=headerlink href=#ddl title="Permanent link">&para;</a></h2> <h3 id=_8>åˆ›å»ºæ•°æ®åº“<a class=headerlink href=#_8 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>database</span> <span class=k>if</span> <span class=k>not</span> <span class=k>exists</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span> <span class=k>character</span> <span class=kt>set</span> <span class=o>&lt;</span><span class=err>å­—ç¬¦é›†å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_9>æŸ¥è¯¢æ•°æ®åº“<a class=headerlink href=#_9 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>show</span> <span class=k>databases</span><span class=p>;</span>
</code></pre></div> <h3 id=_10>æŸ¥è¯¢æŸä¸ªæ•°æ®åº“çš„åˆ›å»ºè¯­å¥<a class=headerlink href=#_10 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>show</span> <span class=k>create</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_11>ä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦é›†<a class=headerlink href=#_11 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span> <span class=k>character</span> <span class=kt>set</span> <span class=o>&lt;</span><span class=err>å­—ç¬¦é›†åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_12>åˆ é™¤æ•°æ®åº“<a class=headerlink href=#_12 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>drop</span> <span class=k>database</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>drop</span> <span class=k>database</span> <span class=k>if</span> <span class=k>exists</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_13>æŸ¥çœ‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„æ•°æ®åº“åç§°<a class=headerlink href=#_13 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=k>database</span><span class=p>();</span>
</code></pre></div> <h3 id=_14>ä½¿ç”¨æ•°æ®åº“<a class=headerlink href=#_14 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>use</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_15>åˆ›å»ºè¡¨<a class=headerlink href=#_15 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>(</span>
    <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>1</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ•°æ®ç±»å‹</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span>
    <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>2</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ•°æ®ç±»å‹</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span>
    <span class=p>...</span>
    <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=n>n</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ•°æ®ç±»å‹</span><span class=n>n</span><span class=o>&gt;</span>
<span class=p>);</span>
</code></pre></div> <p>åˆ›å»ºè¡¨ç¤ºä¾‹</p> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>table</span> <span class=nf>student</span><span class=p>(</span>
    <span class=n>id</span> <span class=kt>int</span> <span class=k>primary</span> <span class=k>key</span><span class=p>,</span>
    <span class=n>name</span> <span class=kt>varchar</span><span class=p>(</span><span class=mi>32</span><span class=p>),</span>
    <span class=n>age</span> <span class=kt>int</span><span class=p>,</span>
    <span class=n>score</span> <span class=kt>double</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span>
    <span class=n>birthday</span> <span class=kt>date</span><span class=p>,</span>
    <span class=n>insert_time</span> <span class=kt>timestamp</span>
<span class=p>);</span>
</code></pre></div> <h3 id=_16>å¤åˆ¶è¡¨<a class=headerlink href=#_16 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>create</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>like</span> <span class=o>&lt;</span><span class=err>è¢«å¤åˆ¶çš„è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_17>æŸ¥è¯¢æŸä¸ªæ•°æ®åº“ä¸­æ‰€æœ‰è¡¨çš„åç§°<a class=headerlink href=#_17 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>show</span> <span class=kp>tables</span><span class=p>;</span>
</code></pre></div> <h3 id=_18>æŸ¥è¯¢è¡¨ç»“æ„<a class=headerlink href=#_18 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>desc</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_19>ä¿®æ”¹è¡¨å<a class=headerlink href=#_19 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>rename</span> <span class=k>to</span> <span class=o>&lt;</span><span class=err>æ–°çš„è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_20>ä¿®æ”¹è¡¨çš„å­—ç¬¦é›†<a class=headerlink href=#_20 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>character</span> <span class=kt>set</span> <span class=o>&lt;</span><span class=err>å­—ç¬¦é›†åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_21>æ·»åŠ ä¸€åˆ—<a class=headerlink href=#_21 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>add</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ•°æ®ç±»å‹</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_22>ä¿®æ”¹åˆ—åç§°æˆ–ç±»å‹<a class=headerlink href=#_22 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>change</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ–°åˆ—å</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ–°æ•°æ®ç±»å‹</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=n>modify</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>æ–°æ•°æ®ç±»å‹</span><span class=o>&gt;</span>
</code></pre></div> <h3 id=_23>åˆ é™¤åˆ—<a class=headerlink href=#_23 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>alter</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>drop</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_24>åˆ é™¤è¡¨<a class=headerlink href=#_24 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>drop</span> <span class=k>table</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>drop</span> <span class=k>table</span> <span class=k>if</span> <span class=k>exists</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span>
</code></pre></div> <h2 id=dml>DMLå¢åˆ æ”¹è¡¨ä¸­æ•°æ®<a class=headerlink href=#dml title="Permanent link">&para;</a></h2> <h3 id=_25>æ·»åŠ æ•°æ®<a class=headerlink href=#_25 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>insert</span> <span class=k>into</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>(</span><span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span> <span class=p>...</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=n>n</span><span class=o>&gt;</span><span class=p>)</span> <span class=k>values</span> <span class=p>(</span><span class=o>&lt;</span><span class=err>å€¼</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>å€¼</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span> <span class=p>...</span> <span class=o>&lt;</span><span class=err>å€¼</span><span class=n>n</span><span class=o>&gt;</span><span class=p>);</span>
</code></pre></div> <p>æ³¨æ„ï¼šéœ€è¦æŠŠéæ•°å­—ç±»å‹ç”¨å¼•å·å¼•èµ·æ¥ã€‚</p> <p>æ·»åŠ æ•°æ®ï¼Œå¦‚æœä¸å†™åˆ—åï¼Œåˆ™é»˜è®¤ç»™æ‰€æœ‰åˆ—æ·»åŠ å€¼</p> <div class=highlight><pre><span></span><code><span class=k>insert</span> <span class=k>into</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>values</span> <span class=p>(</span><span class=err>å€¼</span><span class=mi>1</span><span class=p>,</span> <span class=err>å€¼</span><span class=mi>2</span><span class=p>,</span> <span class=p>...</span> <span class=p>,</span><span class=err>å€¼</span><span class=n>n</span><span class=p>);</span>
</code></pre></div> <h3 id=_26>ä¿®æ”¹æ•°æ®<a class=headerlink href=#_26 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>update</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=kt>set</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>1</span><span class=o>&gt;</span> <span class=o>=</span> <span class=o>&lt;</span><span class=err>å€¼</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>2</span><span class=o>&gt;</span> <span class=o>=</span> <span class=o>&lt;</span><span class=err>å€¼</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span> <span class=p>...</span> <span class=p>[</span><span class=k>where</span> <span class=o>&lt;</span><span class=err>æ¡ä»¶</span><span class=o>&gt;</span><span class=p>];</span>
</code></pre></div> <p>æ³¨æ„ï¼šå¦‚æœä¸åŠ ä»»ä½•æ¡ä»¶ï¼Œåˆ™é»˜è®¤ä¿®æ”¹è¡¨ä¸­çš„æ‰€æœ‰è®°å½•ã€‚</p> <h3 id=_27>åˆ é™¤æ•°æ®<a class=headerlink href=#_27 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>delete</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=p>[</span><span class=k>where</span> <span class=o>&lt;</span><span class=err>æ¡ä»¶</span><span class=o>&gt;</span><span class=p>]</span>
</code></pre></div> <p>æ³¨æ„ï¼šå¦‚æœä¸åŠ æ¡ä»¶ï¼Œåˆ™é»˜è®¤æŠŠæ‰€æœ‰æ•°æ®åˆ é™¤ã€‚</p> <h3 id=_28>åˆ é™¤è¡¨ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ç©ºè¡¨<a class=headerlink href=#_28 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=n>TRUNCATE</span> <span class=k>TABLE</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h2 id=dql>DQLæŸ¥è¯¢è¡¨ä¸­æ•°æ®<a class=headerlink href=#dql title="Permanent link">&para;</a></h2> <h3 id=_29>è¯­æ³•ä¸€è§ˆ<a class=headerlink href=#_29 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>&lt;</span><span class=err>å­—æ®µåˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨ååˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>where</span> <span class=o>&lt;</span><span class=err>æ¡ä»¶åˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>group</span> <span class=k>by</span> <span class=o>&lt;</span><span class=err>åˆ†ç»„å­—æ®µ</span><span class=o>&gt;</span> <span class=k>having</span> <span class=o>&lt;</span><span class=err>åˆ†ç»„ä¹‹åçš„æ¡ä»¶</span><span class=o>&gt;</span> <span class=k>order</span> <span class=k>by</span> <span class=o>&lt;</span><span class=err>æ’åºå­—æ®µ</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=k>ASC</span> <span class=o>|</span> <span class=k>DESC</span><span class=o>&gt;</span> <span class=k>limit</span> <span class=o>&lt;</span><span class=err>åˆ†é¡µé™å®š</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_30>åŸºç¡€æŸ¥è¯¢<a class=headerlink href=#_30 title="Permanent link">&para;</a></h3> <ul> <li>å¤šä¸ªå­—æ®µçš„æŸ¥è¯¢</li> </ul> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>1</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span> <span class=p>...</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=n>n</span><span class=o>&gt;</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <ul> <li>å»é™¤é‡å¤ï¼ˆ<code>DISTINCT</code>ï¼‰</li> </ul> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=k>distinct</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=k>distinct</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>1</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=mi>2</span><span class=o>&gt;</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> 
</code></pre></div> <ul> <li>è®¡ç®—åˆ—ï¼Œä¸¾ä¾‹è¯´æ˜ï¼š</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=n>NAME</span><span class=p>,</span> <span class=n>math</span><span class=p>,</span> <span class=n>english</span><span class=p>,</span> <span class=nf>IFNULL</span><span class=p>(</span><span class=n>math</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>+</span> <span class=nf>IFNULL</span><span class=p>(</span><span class=n>english</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>student</span><span class=p>;</span>
</code></pre></div> <ul> <li>èµ·åˆ«åï¼Œä¸¾ä¾‹è¯´æ˜ï¼š</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=n>NAME</span><span class=p>,</span> <span class=n>math</span> <span class=k>AS</span> <span class=err>æ•°å­¦</span><span class=p>,</span> <span class=n>english</span> <span class=k>AS</span> <span class=err>è‹±è¯­</span><span class=p>,</span> <span class=nf>IFNULL</span><span class=p>(</span><span class=n>math</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>+</span> <span class=nf>IFNULL</span><span class=p>(</span><span class=n>english</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=k>AS</span> <span class=err>æ€»åˆ†</span> <span class=k>FROM</span> <span class=n>student</span><span class=p>;</span>
</code></pre></div> <ul> <li>æŸ¥è¯¢è¡¨ä¸­çš„æ‰€æœ‰è®°å½•</li> </ul> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span>
</code></pre></div> <h3 id=_31>æ¡ä»¶æŸ¥è¯¢<a class=headerlink href=#_31 title="Permanent link">&para;</a></h3> <ul> <li>ä½¿ç”¨ WHERE å­å¥</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=n>field1</span><span class=p>,</span> <span class=n>field2</span><span class=p>,...</span><span class=n>fieldN</span> <span class=k>FROM</span> <span class=n>table_name1</span><span class=p>,</span> <span class=n>table_name2</span><span class=p>...</span> <span class=p>[</span><span class=k>WHERE</span> <span class=n>condition1</span> <span class=p>[</span><span class=k>AND</span> <span class=p>[</span><span class=k>OR</span><span class=p>]]</span> <span class=n>condition2</span><span class=p>.....</span>
</code></pre></div> <p>ä»¥ä¸‹ä¸ºæ“ä½œç¬¦åˆ—è¡¨ï¼Œå¯ç”¨äº WHERE å­å¥ä¸­ã€‚</p> <table> <thead> <tr> <th align=left>æ“ä½œç¬¦</th> <th align=left>å®ä¾‹</th> </tr> </thead> <tbody> <tr> <td align=left>=</td> <td align=left>(A = B) è¿”å›falseã€‚</td> </tr> <tr> <td align=left>&lt;&gt;, !=</td> <td align=left>(A != B) è¿”å› trueã€‚</td> </tr> <tr> <td align=left>&gt;</td> <td align=left>(A &gt; B) è¿”å›falseã€‚</td> </tr> <tr> <td align=left>&lt;</td> <td align=left>(A &lt; B) è¿”å› trueã€‚</td> </tr> <tr> <td align=left>&gt;=</td> <td align=left>(A &gt;= B) è¿”å›falseã€‚</td> </tr> <tr> <td align=left>&lt;=</td> <td align=left>(A &lt;= B) è¿”å› trueã€‚</td> </tr> <tr> <td align=left>BETWEEN...AND</td> <td align=left></td> </tr> <tr> <td align=left>IN ï¼ˆé›†åˆï¼‰</td> <td align=left></td> </tr> <tr> <td align=left>LIKE ï¼ˆæ¨¡ç³ŠæŸ¥è¯¢ï¼‰</td> <td align=left></td> </tr> <tr> <td align=left>IS NULL</td> <td align=left></td> </tr> <tr> <td align=left>and æˆ– &amp;&amp;</td> <td align=left></td> </tr> <tr> <td align=left>or æˆ– ||</td> <td align=left></td> </tr> <tr> <td align=left>not æˆ– !</td> <td align=left></td> </tr> </tbody> </table> <p>å ä½ç¬¦</p> <ul> <li> <p>_ ï¼šå•ä¸ªä»»æ„å­—ç¬¦</p> </li> <li> <p>% ï¼šå¤šä¸ªä»»æ„å­—ç¬¦</p> </li> </ul> <h3 id=_32>æ’åºæŸ¥è¯¢<a class=headerlink href=#_32 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>order</span> <span class=k>by</span> <span class=o>&lt;</span><span class=err>æ’åºå­—æ®µ</span><span class=mi>1</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=k>ASC</span> <span class=o>|</span> <span class=k>DESC</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>æ’åºå­—æ®µ</span><span class=mi>2</span><span class=o>&gt;</span> <span class=o>&lt;</span><span class=k>ASC</span> <span class=o>|</span> <span class=k>DESC</span><span class=o>&gt;</span> <span class=p>...</span> <span class=p>;</span>
</code></pre></div> <ul> <li>ASCï¼šå‡åºï¼Œé»˜è®¤ã€‚</li> <li>DESCï¼šé™åºã€‚</li> </ul> <p>å½“å‰é¢çš„æ’åºå­—æ®µç›¸ç­‰æ—¶ï¼Œæ‰ä¼šåˆ¤æ–­åé¢çš„æ’åºå­—æ®µã€‚</p> <h3 id=_33>èšåˆå‡½æ•°<a class=headerlink href=#_33 title="Permanent link">&para;</a></h3> <p>èšåˆå‡½æ•°æŠŠä¸€åˆ—æ•°æ®ä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œè¿›è¡Œçºµå‘çš„è®¡ç®—ã€‚</p> <p>æ³¨æ„ï¼šèšåˆå‡½æ•°çš„è®¡ç®—ï¼Œä¼šæ’é™¤ <code>NULL</code> å€¼ã€‚</p> <ul> <li>countï¼šè®¡ç®—ä¸ªæ•°</li> </ul> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=nf>count</span><span class=p>(</span><span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span><span class=p>)</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span> 
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=nf>count</span><span class=p>(</span><span class=nf>IFNULL</span><span class=p>(</span><span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>,</span> <span class=mi>0</span><span class=p>))</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=nf>count</span><span class=p>(</span><span class=o>&lt;</span><span class=err>ä¸»é”®å</span><span class=o>&gt;</span><span class=p>)</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=nf>count</span><span class=p>(</span><span class=o>*</span><span class=p>)</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <ul> <li>maxï¼šè®¡ç®—æœ€å¤§å€¼</li> <li>minï¼šè®¡ç®—æœ€å°å€¼</li> <li>sumï¼šè®¡ç®—å’Œ</li> <li>avgï¼šè®¡ç®—å¹³å‡å€¼</li> </ul> <h3 id=_34>åˆ†ç»„æŸ¥è¯¢<a class=headerlink href=#_34 title="Permanent link">&para;</a></h3> <p>åˆ†ç»„æŸ¥è¯¢ç”¨äºç»Ÿè®¡å…·æœ‰ç›¸åŒç‰¹å¾çš„æ•°æ®ã€‚</p> <p>åˆ†ç»„ä¹‹åï¼ŒæŸ¥è¯¢çš„å†…å®¹åº”ä¸º <code>åˆ†ç»„å­—æ®µ</code> æˆ– <code>èšåˆå‡½æ•°</code> ã€‚</p> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>èšåˆå‡½æ•°</span><span class=o>&gt;</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>group</span> <span class=k>by</span> <span class=o>&lt;</span><span class=err>åˆ—å</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>&lt;</span><span class=err>åˆ†ç»„å­—æ®µ</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>èšåˆå‡½æ•°</span><span class=o>&gt;</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>group</span> <span class=k>by</span> <span class=o>&lt;</span><span class=err>åˆ†ç»„å­—æ®µ</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <p>ä¾‹å¦‚ï¼ŒæŒ‰æ€§åˆ«åˆ†ç»„ï¼ŒæŸ¥è¯¢ç”·å¥³ç”Ÿçš„æ•°å­¦å¹³å‡åˆ†å’Œäººæ•°ï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=n>sex</span><span class=p>,</span> <span class=nf>AVG</span><span class=p>(</span><span class=n>math</span><span class=p>),</span> <span class=nf>COUNT</span><span class=p>(</span><span class=n>id</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>student</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>sex</span><span class=p>;</span>
</code></pre></div> <p>ä¾‹å¦‚ï¼ŒæŒ‰æ€§åˆ«åˆ†ç»„ï¼ŒæŸ¥è¯¢ç”·å¥³ç”Ÿçš„æ•°å­¦å¹³å‡åˆ†å’Œäººæ•°ï¼Œåˆ†æ•°ä½äº 70 åˆ†çš„äººä¸å‚ä¸åˆ†ç»„ï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=n>sex</span><span class=p>,</span> <span class=nf>AVG</span><span class=p>(</span><span class=n>math</span><span class=p>),</span> <span class=nf>COUNT</span><span class=p>(</span><span class=n>id</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>student</span> <span class=k>WHERE</span> <span class=n>math</span> <span class=o>&gt;</span> <span class=mi>70</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>sex</span><span class=p>;</span>
</code></pre></div> <p>ä¾‹å¦‚ï¼ŒæŒ‰æ€§åˆ«åˆ†ç»„ï¼ŒæŸ¥è¯¢ç”·å¥³ç”Ÿçš„æ•°å­¦å¹³å‡åˆ†å’Œäººæ•°ï¼Œåˆ†æ•°ä½äº 70 åˆ†çš„äººä¸å‚ä¸åˆ†ç»„ï¼Œåˆ†ç»„ä¹‹åäººæ•°è¦å¤§äº 2 äººï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=n>sex</span><span class=p>,</span> <span class=nf>AVG</span><span class=p>(</span><span class=n>math</span><span class=p>),</span> <span class=nf>COUNT</span><span class=p>(</span><span class=n>id</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>student</span> <span class=k>WHERE</span> <span class=n>math</span> <span class=o>&gt;</span> <span class=mi>70</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>sex</span> <span class=k>HAVING</span> <span class=nf>COUNT</span><span class=p>(</span><span class=n>id</span><span class=p>)</span> <span class=o>&gt;</span> <span class=mi>2</span><span class=p>;</span>
</code></pre></div> <h4 id=where-having>WHERE å’Œ HAVING æœ‰ä½•åŒºåˆ«ï¼Ÿ<a class=headerlink href=#where-having title="Permanent link">&para;</a></h4> <ul> <li>WHERE åœ¨åˆ†ç»„ä¹‹å‰é™å®šï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¸å‚ä¸åˆ†ç»„ã€‚</li> <li>HAVING åœ¨åˆ†ç»„ä¹‹åé™å®šï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™ä¸ä¼šè¢«æŸ¥è¯¢å‡ºæ¥ã€‚</li> <li>WHERE åä¸å¯ä»¥è·Ÿèšåˆå‡½æ•°ã€‚</li> <li>HAVING å¯ä»¥åˆ©ç”¨èšåˆå‡½æ•°è¿›è¡Œåˆ¤æ–­ã€‚</li> </ul> <h3 id=_35>åˆ†é¡µæŸ¥è¯¢<a class=headerlink href=#_35 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>*</span> <span class=k>from</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>limit</span> <span class=o>&lt;</span><span class=err>å¼€å§‹çš„ç´¢å¼•</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>æ¯é¡µæŸ¥è¯¢çš„æ¡æ•°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <p>å…¬å¼ï¼š<code>å¼€å§‹çš„ç´¢å¼•</code> = (<code>å½“å‰é¡µç </code> - 1) * <code>æ¯é¡µæ˜¾ç¤ºçš„æ¡æ•°</code></p> <p>ä¾‹å¦‚ï¼š</p> <p>ç¬¬ä¸€é¡µ</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>student</span> <span class=k>LIMIT</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>10</span><span class=p>;</span>
</code></pre></div> <p>ç¬¬äºŒé¡µ</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>student</span> <span class=k>LIMIT</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>10</span><span class=p>;</span>
</code></pre></div> <p>ç¬¬ä¸‰é¡µ</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>student</span> <span class=k>LIMIT</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>10</span><span class=p>;</span>
</code></pre></div> <h2 id=dcl>DCLç®¡ç†ç”¨æˆ·å’Œæˆæƒ<a class=headerlink href=#dcl title="Permanent link">&para;</a></h2> <h3 id=_36>æ·»åŠ ç”¨æˆ·<a class=headerlink href=#_36 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>CREATE</span> <span class=n>USER</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ä¸»æœºå&gt;&#39;</span> <span class=n>IDENTIFIED</span> <span class=k>BY</span> <span class=s1>&#39;&lt;å¯†ç &gt;&#39;</span><span class=p>;</span>
</code></pre></div> <h3 id=_37>åˆ é™¤ç”¨æˆ·<a class=headerlink href=#_37 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>DROP</span> <span class=n>USER</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=o>@&lt;</span><span class=err>ä¸»æœºå</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_38>ä¿®æ”¹ç”¨æˆ·å¯†ç <a class=headerlink href=#_38 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>UPDATE</span> <span class=n>USER</span> <span class=kt>SET</span> <span class=n>PASSWORD</span> <span class=o>=</span> <span class=nf>PASSWORD</span><span class=p>(</span><span class=s1>&#39;&lt;æ–°å¯†ç &gt;&#39;</span><span class=p>)</span> <span class=k>WHERE</span> <span class=n>USER</span> <span class=o>=</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=p>;</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=kt>SET</span> <span class=n>PASSWORD</span> <span class=k>FOR</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ä¸»æœºå&gt;&#39;</span> <span class=o>=</span> <span class=nf>PASSWORD</span><span class=p>(</span><span class=s1>&#39;æ–°å¯†ç &#39;</span><span class=p>);</span>
</code></pre></div> <h3 id=_39>æŸ¥è¯¢ç”¨æˆ·<a class=headerlink href=#_39 title="Permanent link">&para;</a></h3> <ul> <li>åˆ‡æ¢åˆ° <code>mysql</code> æ•°æ®åº“</li> </ul> <div class=highlight><pre><span></span><code><span class=k>USE</span> <span class=n>mysql</span><span class=p>;</span>
</code></pre></div> <ul> <li>æŸ¥è¯¢ <code>user</code> è¡¨</li> </ul> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>USER</span><span class=p>;</span>
</code></pre></div> <p>é€šé…ç¬¦ <code>%</code> è¡¨ç¤ºå¯ä»¥åœ¨ä»»æ„ä¸»æœºä½¿ç”¨è¯¥ç”¨æˆ·ç™»å½•æ•°æ®åº“ã€‚</p> <h3 id=root>å¿˜è®° root å¯†ç <a class=headerlink href=#root title="Permanent link">&para;</a></h3> <ul> <li>å…ˆåœæ­¢ MySQL æœåŠ¡</li> </ul> <div class=highlight><pre><span></span><code>net stop mysql # ä½¿ç”¨ cmd åœæ­¢ MySQL æœåŠ¡
</code></pre></div> <div class=highlight><pre><span></span><code>sudo systemctl stop mysql.service <span class=c1># ä½¿ç”¨ bash åœæ­¢ MySQL æœåŠ¡</span>
</code></pre></div> <ul> <li>ä½¿ç”¨æ— éªŒè¯æ–¹å¼å¯åŠ¨ MySQL æœåŠ¡ï¼Œä¿æŒè¯¥å‘½ä»¤è¡Œçª—å£æ‰“å¼€</li> </ul> <div class=highlight><pre><span></span><code>mysql --skip-grant-tables
</code></pre></div> <ul> <li>æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£å¹¶è¿›å…¥ MySQL</li> </ul> <div class=highlight><pre><span></span><code>mysql
</code></pre></div> <ul> <li>æ›´æ”¹ <code>root</code> ç”¨æˆ·çš„å¯†ç </li> </ul> <div class=highlight><pre><span></span><code><span class=k>UPDATE</span> <span class=n>USER</span> <span class=kt>SET</span> <span class=n>PASSWORD</span> <span class=o>=</span> <span class=nf>PASSWORD</span><span class=p>(</span><span class=s1>&#39;&lt;æ–°å¯†ç &gt;&#39;</span><span class=p>)</span> <span class=k>WHERE</span> <span class=n>USER</span><span class=o>=</span><span class=s1>&#39;root&#39;</span><span class=p>;</span>
</code></pre></div> <ul> <li>ç»“æŸMySQLæœåŠ¡ï¼Œç„¶åé‡æ–°å¼€å¯</li> </ul> <h3 id=_40>æŸ¥è¯¢ç”¨æˆ·æƒé™<a class=headerlink href=#_40 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>SHOW</span> <span class=n>GRANTS</span> <span class=k>FOR</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;@&lt;ä¸»æœºå&gt;&#39;</span><span class=p>;</span>
</code></pre></div> <h3 id=_41>æˆäºˆç”¨æˆ·æƒé™<a class=headerlink href=#_41 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>GRANT</span> <span class=o>&lt;</span><span class=err>æƒé™åˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>ON</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“å</span><span class=p>.</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>TO</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ä¸»æœºå&gt;&#39;</span><span class=p>;</span>
</code></pre></div> <p>æƒé™æœ‰ä»¥ä¸‹è¿™äº›å¯é€‰é¡¹ï¼š</p> <ul> <li>SELECT | DELETE | UPDATE | ALL</li> </ul> <p>ç»™æŸç”¨æˆ·æˆäºˆæ‰€æœ‰æƒé™ï¼Œåœ¨ä»»æ„æ•°æ®åº“ä»»æ„è¡¨ä¸Šï¼š</p> <div class=highlight><pre><span></span><code><span class=k>GRANT</span> <span class=k>ALL</span> <span class=k>ON</span> <span class=o>*</span><span class=p>.</span><span class=o>*</span> <span class=k>TO</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=o>@&lt;</span><span class=err>ä¸»æœºå</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_42>æ’¤é”€ç”¨æˆ·æƒé™<a class=headerlink href=#_42 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>REVOKE</span> <span class=o>&lt;</span><span class=err>æƒé™åˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>ON</span> <span class=o>&lt;</span><span class=err>æ•°æ®åº“å</span><span class=p>.</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>FROM</span> <span class=s1>&#39;&lt;ç”¨æˆ·å&gt;&#39;</span><span class=o>@</span><span class=s1>&#39;&lt;ä¸»æœºå &gt;&#39;</span><span class=p>;</span> 
</code></pre></div> <h2 id=_43>çº¦æŸ<a class=headerlink href=#_43 title="Permanent link">&para;</a></h2> <p>çº¦æŸçš„æ¦‚å¿µï¼šå¯¹è¡¨ä¸­çš„æ•°æ®è¿›è¡Œé™å®šï¼Œä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ã€æœ‰æ•ˆæ€§å’Œå®Œæ•´æ€§ã€‚</p> <p>åˆ†ç±»ï¼š</p> <ul> <li>ä¸»é”®çº¦æŸï¼šprimary key</li> <li>éç©ºçº¦æŸï¼šnot null</li> <li>å”¯ä¸€çº¦æŸï¼šunique</li> <li>å¤–é”®çº¦æŸï¼šforeign key</li> </ul> <h3 id=primary-key>ä¸»é”®çº¦æŸPRIMARY KEY<a class=headerlink href=#primary-key title="Permanent link">&para;</a></h3> <p>ä¸»é”®ï¼š</p> <ol> <li>éç©ºä¸”å”¯ä¸€</li> <li>ä¸€å¼ è¡¨åªèƒ½æœ‰ä¸€ä¸ªå­—æ®µä¸ºä¸»é”®</li> <li> <p>ä¸»é”®æ˜¯è¡¨ä¸­è®°å½•çš„å”¯ä¸€æ ‡è¯†</p> </li> <li> <p>åœ¨åˆ›å»ºè¡¨æ—¶æ·»åŠ ä¸»é”®</p> </li> </ol> <div class=highlight><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=nf>stu</span><span class=p>(</span>
    <span class=n>id</span> <span class=kt>INT</span> <span class=k>PRIMARY</span> <span class=k>KEY</span><span class=p>,</span>
    <span class=n>NAME</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span>
<span class=p>);</span>
</code></pre></div> <ul> <li>åœ¨åˆ›å»ºè¡¨åæ·»åŠ ä¸»é”®</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=n>MODIFY</span> <span class=n>id</span> <span class=kt>INT</span> <span class=k>PRIMARY</span> <span class=k>KEY</span><span class=p>;</span>
</code></pre></div> <ul> <li>åˆ é™¤ä¸»é”®</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=k>DROP</span> <span class=k>PRIMARY</span> <span class=k>KEY</span><span class=p>;</span>
</code></pre></div> <h4 id=auto_increment>è‡ªåŠ¨å¢é•¿AUTO_INCREMENT<a class=headerlink href=#auto_increment title="Permanent link">&para;</a></h4> <p>æ¦‚å¿µï¼šå¦‚æœæŸä¸€åˆ—æ˜¯æ•°å€¼ç±»å‹çš„ï¼Œåˆ™å¯ç”¨ auto_increment å®ç°å€¼çš„è‡ªåŠ¨å¢é•¿ã€‚</p> <ul> <li>åœ¨åˆ›å»ºè¡¨æ—¶è®¾ç½®è‡ªåŠ¨å¢é•¿</li> </ul> <div class=highlight><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=nf>stu</span><span class=p>(</span>
    <span class=n>id</span> <span class=kt>INT</span> <span class=k>PRIMARY</span> <span class=k>KEY</span> <span class=kp>AUTO_INCREMENT</span><span class=p>,</span>
    <span class=n>NAME</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span>
<span class=p>);</span>
</code></pre></div> <ul> <li>æ·»åŠ è‡ªåŠ¨å¢é•¿</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=n>MODIFY</span> <span class=n>id</span> <span class=kp>AUTO_INCREMENT</span><span class=p>;</span>
</code></pre></div> <ul> <li>åˆ é™¤è‡ªåŠ¨å¢é•¿</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=n>MODIFY</span> <span class=n>id</span> <span class=kt>INT</span><span class=p>;</span>
</code></pre></div> <h3 id=not-null>éç©ºçº¦æŸNOT NULL<a class=headerlink href=#not-null title="Permanent link">&para;</a></h3> <ul> <li>åœ¨åˆ›å»ºè¡¨æ—¶æ·»åŠ çº¦æŸ</li> </ul> <div class=highlight><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=nf>stu</span><span class=p>(</span>
    <span class=n>id</span> <span class=kt>INT</span><span class=p>,</span>
    <span class=n>NAME</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>NOT</span> <span class=no>NULL</span>
<span class=p>);</span>
</code></pre></div> <ul> <li>åœ¨åˆ›å»ºè¡¨åï¼Œæ·»åŠ éç©ºçº¦æŸ</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=n>MODIFY</span> <span class=n>NAME</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>NOT</span> <span class=no>NULL</span><span class=p>;</span>
</code></pre></div> <ul> <li>åˆ é™¤ NAME çš„éç©ºçº¦æŸ</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=n>MODIFY</span> <span class=n>NAME</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</code></pre></div> <h3 id=unique>å”¯ä¸€çº¦æŸUNIQUE<a class=headerlink href=#unique title="Permanent link">&para;</a></h3> <p>æ³¨æ„ï¼šå”¯ä¸€çº¦æŸé™å®šçš„åˆ—çš„å€¼å¯ä»¥æœ‰å¤šä¸ª NULL</p> <ul> <li>åœ¨åˆ›å»ºè¡¨æ—¶ï¼Œæ·»åŠ å”¯ä¸€çº¦æŸ</li> </ul> <div class=highlight><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=nf>stu</span> <span class=p>(</span>
    <span class=n>id</span> <span class=kt>INT</span><span class=p>;</span>
    <span class=n>phone_number</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>UNIQUE</span>
<span class=p>);</span>
</code></pre></div> <ul> <li>åœ¨åˆ›å»ºè¡¨åï¼Œæ·»åŠ å”¯ä¸€çº¦æŸ</li> </ul> <p>å½“æ•°æ®æœ‰é‡å¤æ—¶ï¼Œä¼šå¯¼è‡´æ·»åŠ å”¯ä¸€çº¦æŸå¤±è´¥</p> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=n>MODIFY</span> <span class=n>phone_number</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>)</span> <span class=k>UNIQUE</span><span class=p>;</span>
</code></pre></div> <ul> <li>åˆ é™¤å”¯ä¸€çº¦æŸ</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>stu</span> <span class=k>DROP</span> <span class=k>INDEX</span> <span class=n>phone_number</span> <span class=kt>VARCHAR</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</code></pre></div> <h3 id=foreign-key>å¤–é”®çº¦æŸFOREIGN KEY<a class=headerlink href=#foreign-key title="Permanent link">&para;</a></h3> <p>å¤–é”®çº¦æŸï¼šè®©è¡¨ä¸è¡¨äº§ç”Ÿå…³ç³»ï¼Œä»è€Œä¿è¯æ•°æ®çš„æ­£ç¡®æ€§ã€‚</p> <ul> <li>åœ¨åˆ›å»ºè¡¨æ—¶æ·»åŠ å¤–é”®</li> </ul> <div class=highlight><pre><span></span><code><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span><span class=p>(</span>
    <span class=p>...</span> <span class=p>,</span>
    <span class=k>CONSTRAINT</span> <span class=o>&lt;</span><span class=err>å¤–é”®åç§°</span><span class=o>&gt;</span> <span class=k>FOREIGN</span> <span class=k>KEY</span> <span class=p>(</span><span class=o>&lt;</span><span class=err>å¤–é”®åˆ—åç§°</span><span class=o>&gt;</span><span class=p>)</span> <span class=k>REFERENCES</span> <span class=o>&lt;</span><span class=err>ä¸»è¡¨åç§°</span><span class=o>&gt;</span><span class=p>(</span><span class=o>&lt;</span><span class=err>ä¸»è¡¨åˆ—åç§°</span><span class=o>&gt;</span><span class=p>)</span>
<span class=p>)</span> <span class=p>;</span>
</code></pre></div> <ul> <li>åœ¨åˆ›å»ºè¡¨åæ·»åŠ å¤–é”®</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>ADD</span> <span class=k>CONSTRAINT</span> <span class=o>&lt;</span><span class=err>å¤–é”®åç§°</span><span class=o>&gt;</span> <span class=k>FOREIGN</span> <span class=k>KEY</span> <span class=p>(</span><span class=o>&lt;</span><span class=err>å¤–é”®å­—æ®µåç§°</span><span class=o>&gt;</span><span class=p>)</span> <span class=k>REFERENCES</span> <span class=o>&lt;</span><span class=err>ä¸»è¡¨åç§°</span><span class=o>&gt;</span><span class=p>(</span><span class=o>&lt;</span><span class=err>ä¸»è¡¨åˆ—åç§°</span><span class=o>&gt;</span><span class=p>);</span>
</code></pre></div> <ul> <li>åˆ é™¤å¤–é”®</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=o>&lt;</span><span class=err>è¡¨å</span><span class=o>&gt;</span> <span class=k>DROP</span> <span class=k>FOREIGN</span> <span class=k>KEY</span> <span class=o>&lt;</span><span class=err>å¤–é”®åç§°</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h4 id=_44>çº§è”æ“ä½œ(è°¨æ…ä½¿ç”¨)<a class=headerlink href=#_44 title="Permanent link">&para;</a></h4> <ul> <li>çº§è”æ›´æ–°ï¼šON UPDATE CASCADE</li> <li>çº§è”åˆ é™¤ï¼šON DELETE CASCADE</li> </ul> <div class=highlight><pre><span></span><code><span class=k>ALTER</span> <span class=k>TABLE</span> <span class=n>employee</span> <span class=k>ADD</span> <span class=k>CONSTRAINT</span> <span class=n>emp_dept_fk</span> <span class=k>FOREIGN</span> <span class=k>KEY</span> <span class=p>(</span><span class=n>dep_id</span><span class=p>)</span> <span class=k>REFERENCES</span> <span class=nf>department</span><span class=p>(</span><span class=n>id</span><span class=p>)</span> <span class=k>ON</span> <span class=k>UPDATE</span> <span class=k>CASCADE</span><span class=p>;</span>
</code></pre></div> <h2 id=_45>å¤šè¡¨ä¹‹é—´çš„å…³ç³»<a class=headerlink href=#_45 title="Permanent link">&para;</a></h2> <h3 id=_46>ä¸€å¯¹ä¸€<a class=headerlink href=#_46 title="Permanent link">&para;</a></h3> <p>ä¸¾ä¾‹ï¼šä¸€ä¸ªäººåªæœ‰ä¸€ä¸ªèº«ä»½è¯ï¼Œä¸€ä¸ªèº«ä»½è¯åªèƒ½å¯¹åº”ä¸€ä¸ªäººã€‚</p> <p>å®ç°ï¼šåœ¨ä»»æ„ä¸€å¼ è¡¨æ·»åŠ å¤–é”®æŒ‡å‘å¦ä¸€å¼ è¡¨çš„ä¸»é”®ï¼Œå¹¶å¯¹è¯¥å¤–é”®æ·»åŠ å”¯ä¸€çº¦æŸ(<code>UNIQUE</code>)ã€‚</p> <h3 id=_47>ä¸€å¯¹å¤š<a class=headerlink href=#_47 title="Permanent link">&para;</a></h3> <p>ä¸¾ä¾‹ï¼šä¸€ä¸ªéƒ¨é—¨æœ‰å¤šä¸ªå‘˜å·¥ï¼Œä¸€ä¸ªå‘˜å·¥åªèƒ½å¯¹åº”ä¸€ä¸ªéƒ¨é—¨ã€‚</p> <p>å®ç°ï¼šåœ¨å¤šçš„ä¸€æ–¹å»ºç«‹å¤–é”®ï¼ŒæŒ‡å‘ä¸€çš„ä¸€æ–¹çš„ä¸»é”®ã€‚</p> <h3 id=_48>å¤šå¯¹å¤š<a class=headerlink href=#_48 title="Permanent link">&para;</a></h3> <p>ä¸¾ä¾‹ï¼šä¸€ä¸ªå­¦ç”Ÿå¯ä»¥é€‰æ‹©å¤šé—¨è¯¾ç¨‹ï¼Œä¸€é—¨è¯¾ç¨‹å¯ä»¥è¢«å¾ˆå¤šå­¦ç”Ÿé€‰æ‹©ã€‚</p> <p>å®ç°ï¼›å»ºç«‹ä¸€å¼ è¡¨ï¼Œæ¯”å¦‚å­¦ç”Ÿé€‰è¯¾è¡¨ï¼Œè”åˆä¸»é”®æ˜¯sidå’Œcidçš„ç»„åˆã€‚</p> <h2 id=3nf>3NFèŒƒå¼è®¾è®¡æ€è·¯<a class=headerlink href=#3nf title="Permanent link">&para;</a></h2> <p>èƒ½åˆ›å»ºè¡¨ï¼šç¬¬ä¸€èŒƒå¼ï¼ˆ1NFï¼‰</p> <p>åœ¨1NFçš„åŸºç¡€ä¸Šï¼Œæ¶ˆé™¤éä¸»å±æ€§å¯¹ä¸»ç çš„ä¾èµ–ï¼šç¬¬äºŒèŒƒå¼ï¼ˆ2NFï¼‰</p> <p>åœ¨2NFçš„åŸºç¡€ä¸Šï¼Œæ¶ˆé™¤ä¼ é€’ä¾èµ–ï¼šç¬¬ä¸‰èŒƒå¼ï¼ˆ3NFï¼‰</p> <h2 id=_49>å¤šè¡¨æŸ¥è¯¢<a class=headerlink href=#_49 title="Permanent link">&para;</a></h2> <h3 id=_50>ç¬›å¡å°”ç§¯<a class=headerlink href=#_50 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>*</span> <span class=k>FROM</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>A</span><span class=o>&gt;</span><span class=p>,</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>B</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <h3 id=_51>å†…è¿æ¥æŸ¥è¯¢<a class=headerlink href=#_51 title="Permanent link">&para;</a></h3> <h4 id=_52>éšå¼å†…è¿æ¥<a class=headerlink href=#_52 title="Permanent link">&para;</a></h4> <p>ä½¿ç”¨ <code>where</code> æ¡ä»¶æ¶ˆé™¤æ— ç”¨æ•°æ®ã€‚</p> <p>ä¸¾ä¾‹ï¼ŒæŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ä¿¡æ¯å’Œå¯¹åº”çš„éƒ¨é—¨ä¿¡æ¯</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span><span class=p>,</span> <span class=n>dept</span> <span class=k>WHERE</span> <span class=n>emp</span><span class=p>.</span><span class=ss>`dept_id`</span> <span class=o>=</span> <span class=n>dept</span><span class=p>.</span><span class=ss>`id`</span><span class=p>;</span>
</code></pre></div> <h4 id=_53>æ˜¾å¼å†…è¿æ¥<a class=headerlink href=#_53 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=err>å­—æ®µåˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>FROM</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>A</span><span class=o>&gt;</span> <span class=k>INNER</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>B</span><span class=o>&gt;</span> <span class=k>ON</span> <span class=o>&lt;</span><span class=err>æ¡ä»¶</span><span class=o>&gt;</span>
</code></pre></div> <p>ä¸¾ä¾‹</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span> <span class=k>INNER</span> <span class=k>JOIN</span> <span class=n>dept</span> <span class=k>ON</span> <span class=n>emp</span><span class=p>.</span><span class=ss>`dept_id`</span> <span class=o>=</span> <span class=n>dept</span><span class=p>.</span><span class=ss>`id`</span><span class=p>;</span>
</code></pre></div> <h3 id=_54>å¤–è¿æ¥æŸ¥è¯¢<a class=headerlink href=#_54 title="Permanent link">&para;</a></h3> <h4 id=_55>å·¦å¤–è¿æ¥<a class=headerlink href=#_55 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=err>å­—æ®µåˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>FROM</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>A</span><span class=o>&gt;</span> <span class=k>LEFT</span> <span class=k>OUTER</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>B</span><span class=o>&gt;</span> <span class=k>ON</span> <span class=o>&lt;</span><span class=err>æ¡ä»¶</span><span class=o>&gt;</span>
</code></pre></div> <h4 id=_56>å³å¤–è¿æ¥<a class=headerlink href=#_56 title="Permanent link">&para;</a></h4> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>&lt;</span><span class=err>å­—æ®µåˆ—è¡¨</span><span class=o>&gt;</span> <span class=k>FROM</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>A</span><span class=o>&gt;</span> <span class=k>RIGHT</span> <span class=k>OUTER</span> <span class=k>JOIN</span> <span class=o>&lt;</span><span class=err>è¡¨</span><span class=n>B</span><span class=o>&gt;</span> <span class=k>ON</span> <span class=o>&lt;</span><span class=err>æ¡ä»¶</span><span class=o>&gt;</span>
</code></pre></div> <h3 id=_57>å­æŸ¥è¯¢<a class=headerlink href=#_57 title="Permanent link">&para;</a></h3> <p>è‹¥æŸ¥è¯¢ä¸­åŒ…å«åµŒå¥—æŸ¥è¯¢ï¼Œåˆ™å…¶ä¸­çš„åµŒå¥—æŸ¥è¯¢ç§°ä¸ºå­æŸ¥è¯¢ã€‚</p> <h4 id=_58>ç»“æœä¸ºå•è¡Œå•åˆ—çš„å­æŸ¥è¯¢<a class=headerlink href=#_58 title="Permanent link">&para;</a></h4> <p>å½“å­æŸ¥è¯¢çš„ç»“æœä¸ºå•è¡Œå½“åˆ—æ—¶ï¼Œå­æŸ¥è¯¢å¯ä»¥ä½œä¸ºæ¡ä»¶ï¼Œä½¿ç”¨è¿ç®—ç¬¦å»åˆ¤æ–­ã€‚</p> <p>ä¸¾ä¾‹ï¼ŒæŸ¥è¯¢å·¥èµ„æœ€é«˜çš„å‘˜å·¥ä¿¡æ¯ï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span> <span class=k>WHERE</span> <span class=n>emp</span><span class=p>.</span><span class=ss>`salary`</span> <span class=o>=</span> <span class=p>(</span><span class=k>SELECT</span> <span class=nf>MAX</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>emp</span><span class=p>);</span>
</code></pre></div> <p>å†ä¸¾ä¸€ä¾‹ï¼ŒæŸ¥è¯¢å·¥èµ„ä½äºå¹³å‡å·¥èµ„çš„å‘˜å·¥ä¿¡æ¯</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span> <span class=k>WHERE</span> <span class=n>emp</span><span class=p>.</span><span class=n>salary</span> <span class=o>&lt;</span> <span class=p>(</span><span class=k>SELECT</span> <span class=nf>AVG</span><span class=p>(</span><span class=n>salary</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>emp</span><span class=p>);</span>
</code></pre></div> <h4 id=_59>ç»“æœä¸ºå¤šè¡Œå•åˆ—çš„å­æŸ¥è¯¢<a class=headerlink href=#_59 title="Permanent link">&para;</a></h4> <p>å½“å­æŸ¥è¯¢çš„ç»“æœä¸ºå¤šè¡Œå•åˆ—æ—¶ï¼Œå­æŸ¥è¯¢å¯ä»¥ä½œä¸ºæ¡ä»¶ï¼Œä½¿ç”¨è¿ç®—ç¬¦ <code>IN</code> å»åˆ¤æ–­ã€‚</p> <p>ä¸¾ä¾‹ï¼ŒæŸ¥è¯¢è´¢åŠ¡éƒ¨å’Œå¸‚åœºéƒ¨æ‰€æœ‰å‘˜å·¥çš„ä¿¡æ¯</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span> <span class=k>WHERE</span> <span class=n>dept_id</span> <span class=k>IN</span> <span class=p>(</span><span class=k>SELECT</span> <span class=n>id</span> <span class=k>FROM</span> <span class=n>dept</span> <span class=k>WHERE</span> <span class=n>NAME</span> <span class=o>=</span> <span class=s1>&#39;è´¢åŠ¡éƒ¨&#39;</span> <span class=k>OR</span> <span class=n>NAME</span> <span class=o>=</span> <span class=s1>&#39;å¸‚åœºéƒ¨&#39;</span><span class=p>);</span>
</code></pre></div> <h4 id=_60>ç»“æœä¸ºå¤šè¡Œå¤šåˆ—çš„å­æŸ¥è¯¢<a class=headerlink href=#_60 title="Permanent link">&para;</a></h4> <p>å½“å­æŸ¥è¯¢çš„ç»“æœä¸ºå¤šè¡Œå¤šåˆ—æ—¶ï¼Œå­æŸ¥è¯¢å¯ä»¥ä½œä¸ºä¸€å¼ è™šæ‹Ÿè¡¨ã€‚</p> <p>ä¸¾ä¾‹ï¼ŒæŸ¥è¯¢å…¥èŒæ—¥æœŸä¸º2011-11-11ä¹‹åçš„å‘˜å·¥ä¿¡æ¯å’Œéƒ¨é—¨ä¿¡æ¯ï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>dept</span> <span class=k>AS</span> <span class=n>table1</span><span class=p>,</span> <span class=p>(</span><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span> <span class=k>WHERE</span> <span class=n>emp</span><span class=p>.</span><span class=ss>`join_date`</span> <span class=o>&gt;</span> <span class=s1>&#39;2011-11-11&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>table2</span> <span class=k>WHERE</span> <span class=n>table1</span><span class=p>.</span><span class=n>id</span> <span class=o>=</span> <span class=n>table2</span><span class=p>.</span><span class=n>id</span><span class=p>;</span>
</code></pre></div> <p>ä¸å†…è¿æ¥ä½œå¯¹æ¯”ï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>*</span> <span class=k>FROM</span> <span class=n>emp</span> <span class=k>AS</span> <span class=n>table1</span><span class=p>,</span> <span class=n>dept</span> <span class=k>AS</span> <span class=n>table2</span> <span class=k>WHERE</span> <span class=n>table1</span><span class=p>.</span><span class=ss>`dept_id`</span> <span class=o>=</span> <span class=n>t2</span><span class=p>.</span><span class=ss>`id`</span> <span class=k>AND</span> <span class=n>t1</span><span class=p>.</span><span class=ss>`join_date`</span> <span class=o>&gt;</span> <span class=s1>&#39;2011-11-11&#39;</span><span class=p>;</span>
</code></pre></div> <h2 id=_61>äº‹åŠ¡<a class=headerlink href=#_61 title="Permanent link">&para;</a></h2> <h3 id=_62>äº‹åŠ¡çš„åŸºæœ¬ä»‹ç»<a class=headerlink href=#_62 title="Permanent link">&para;</a></h3> <h4 id=_63>äº‹åŠ¡çš„æ¦‚å¿µ<a class=headerlink href=#_63 title="Permanent link">&para;</a></h4> <p>å¦‚æœä¸€ä¸ªåŒ…å«å¤šä¸ªæ­¥éª¤çš„ä¸šåŠ¡æ“ä½œï¼Œè¢«äº‹åŠ¡ç®¡ç†ï¼Œé‚£ä¹ˆè¿™äº›æ“ä½œè¦ä¹ˆåŒæ—¶æˆæœï¼Œè¦ä¹ˆåŒæ—¶å¤±è´¥ã€‚</p> <h4 id=_64>äº‹åŠ¡çš„åŸºæœ¬æ“ä½œ<a class=headerlink href=#_64 title="Permanent link">&para;</a></h4> <ul> <li>å¼€å¯äº‹åŠ¡</li> </ul> <div class=highlight><pre><span></span><code><span class=n>start</span> <span class=n>transaction</span><span class=p>;</span>
</code></pre></div> <ul> <li>å›æ»š</li> </ul> <div class=highlight><pre><span></span><code><span class=n>rollback</span><span class=p>;</span>
</code></pre></div> <ul> <li>æäº¤</li> </ul> <div class=highlight><pre><span></span><code><span class=n>commit</span><span class=p>;</span>
</code></pre></div> <h4 id=mysql_1>MySQL äº‹åŠ¡çš„é»˜è®¤æäº¤æ–¹å¼<a class=headerlink href=#mysql_1 title="Permanent link">&para;</a></h4> <p>åœ¨MySQLæ•°æ®åº“ä¸­äº‹åŠ¡é»˜è®¤è‡ªåŠ¨æäº¤ï¼ˆåœ¨Oracleæ•°æ®åº“ä¸­äº‹åŠ¡é»˜è®¤æ‰‹åŠ¨æäº¤ï¼‰ï¼Œä¸€æ¡ DML è¯­å¥ä¼šè‡ªåŠ¨æäº¤ä¸€æ¬¡äº‹åŠ¡ï¼›å½“æ‰§è¡Œ <code>start transaction;</code> åï¼Œæœ¬æ¬¡äº‹åŠ¡å˜ä¸ºæ‰‹åŠ¨æäº¤ã€‚</p> <p>å¯ä»¥æŸ¥çœ‹ DML è¯­å¥çš„äº‹åŠ¡æ˜¯å¦è®¾ç½®ä¸ºè‡ªåŠ¨æäº¤ï¼š</p> <div class=highlight><pre><span></span><code><span class=k>SELECT</span> <span class=o>@@</span><span class=n>autocommit</span><span class=p>;</span> <span class=c1>-- 1 ä»£è¡¨è‡ªåŠ¨æäº¤ï¼Œ0 ä»£è¡¨æ‰‹åŠ¨æäº¤</span>
</code></pre></div> <p>å¯ä»¥æ›´æ”¹äº‹åŠ¡çš„é»˜è®¤æäº¤æ–¹å¼ï¼š</p> <div class=highlight><pre><span></span><code><span class=kt>SET</span> <span class=o>@@</span><span class=n>autocommit</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=c1>-- è®¾ä¸ºæ‰‹åŠ¨æäº¤</span>
</code></pre></div> <p>è®¾ä¸ºæ‰‹åŠ¨æäº¤åï¼Œå¦‚æœæ‰§è¡Œäº† DML è¯­å¥è€Œæ²¡æœ‰æ‰‹åŠ¨æäº¤ï¼Œå½“é€€å‡ºç™»å½•ååå°ä¼šè‡ªåŠ¨å›æ»šã€‚</p> <h3 id=_65>äº‹åŠ¡çš„å››å¤§ç‰¹å¾<a class=headerlink href=#_65 title="Permanent link">&para;</a></h3> <ol> <li>åŸå­æ€§</li> <li>æŒä¹…æ€§</li> <li>éš”ç¦»æ€§</li> <li>ä¸€è‡´æ€§</li> </ol> <h3 id=_66>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«<a class=headerlink href=#_66 title="Permanent link">&para;</a></h3> <h4 id=_67>è¦è§£å†³çš„é—®é¢˜<a class=headerlink href=#_67 title="Permanent link">&para;</a></h4> <p>äº‹åŠ¡çš„ä¸åŒéš”ç¦»çº§åˆ«ï¼Œæ˜¯ä¸ºäº†è§£å†³è¿™äº›é—®é¢˜ï¼š</p> <ul> <li>è„è¯»ï¼šä¸€ä¸ªäº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªäº‹åŠ¡ä¸­æ²¡æœ‰æäº¤çš„æ•°æ®</li> <li>ä¸å¯é‡å¤è¯»ï¼ˆè™šè¯»ï¼‰ï¼šåœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œä¸¤æ¬¡è¯»å–åˆ°çš„æ•°æ®ä¸ä¸€æ ·ã€‚</li> <li>å¹»è¯»ï¼šä¸€ä¸ªäº‹åŠ¡æ“ä½œï¼ˆDMLï¼‰æ•°æ®è¡¨ä¸­æ‰€æœ‰è®°å½•ï¼Œå¦ä¸€ä¸ªäº‹åŠ¡æ·»åŠ äº†ä¸€æ¡æ•°æ®ï¼Œåˆ™ç¬¬ä¸€ä¸ªäº‹åŠ¡æŸ¥è¯¢ä¸åˆ°è‡ªå·±çš„ä¿®æ”¹ã€‚</li> </ul> <h4 id=_68>éš”ç¦»çº§åˆ«<a class=headerlink href=#_68 title="Permanent link">&para;</a></h4> <ul> <li>read uncommited</li> <li>read committedï¼ˆOracleé»˜è®¤ï¼‰ï¼šè§£å†³äº†è„è¯»</li> <li>repeatable readï¼ˆMySQLé»˜è®¤ï¼‰ï¼šè§£å†³äº†è„è¯»ã€ä¸å¯é‡å¤è¯»</li> <li>serializableï¼šè§£å†³äº†æ‰€æœ‰é—®é¢˜</li> </ul> <p>äº‹åŠ¡çš„çº§åˆ«ç”±å°åˆ°å¤§å®‰å…¨æ€§è¶Šæ¥è¶Šé«˜ï¼Œä½†æ•ˆç‡è¶Šæ¥è¶Šä½ã€‚</p> <h3 id=_69>äº‹åŠ¡çš„ç›¸å…³æ“ä½œ<a class=headerlink href=#_69 title="Permanent link">&para;</a></h3> <p>æ•°æ®åº“æŸ¥è¯¢éš”ç¦»çº§åˆ«</p> <div class=highlight><pre><span></span><code><span class=k>select</span> <span class=o>@@</span><span class=n>tx_isolation</span><span class=p>;</span>
</code></pre></div> <p>æ•°æ®åº“è®¾ç½®éš”ç¦»çº§åˆ«</p> <div class=highlight><pre><span></span><code><span class=kt>set</span> <span class=n>global</span> <span class=n>transaction</span> <span class=n>isolation</span> <span class=n>level</span> <span class=o>&lt;</span><span class=err>éš”ç¦»çº§åˆ«å­—ç¬¦ä¸²</span><span class=o>&gt;</span><span class=p>;</span>
</code></pre></div> <p>æ³¨æ„ï¼šå½“æ”¹å˜æ•°æ®åº“çš„äº‹åŠ¡éš”ç¦»çº§åˆ«åï¼Œè¦é‡æ–°ç™»å½•æ‰èƒ½ç”Ÿæ•ˆã€‚</p> <hr> <div class=md-source-date> <small> Last update: May 16, 2020 </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.22b62ea4.min.js></script> <script src=../../assets/javascripts/bundle.5f27aba8.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["instant", "tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.f6ebf1dc.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>